<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>terminal — github.io</title>
<style>
  /* Page background */
  :root{
    --bg:#060608;
    --panel:#0b0c0f;
    --accent:#39ff14; /* hacker green */
    --muted:#6b737b;
    --glass: rgba(255,255,255,0.03);
  }
  html,body{height:100%;margin:0;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace;background:
    radial-gradient(1200px 600px at 10% 20%, rgba(57,255,20,0.02), transparent 6%),
    radial-gradient(1000px 400px at 90% 80%, rgba(57,255,20,0.01), transparent 10%),
    var(--bg); color:var(--accent); -webkit-font-smoothing:antialiased;}
  /* Center container */
  .wrap {height:100%;display:flex;align-items:center;justify-content:center;padding:28px;box-sizing:border-box;}
  /* Terminal window */
  .term {
    width:min(980px,96vw);
    max-width:980px;
    height:min(640px,86vh);
    background:linear-gradient(180deg,var(--panel), #070708 120%);
    border-radius:10px;
    box-shadow: 0 12px 40px rgba(2,6,8,0.8), inset 0 1px 0 rgba(255,255,255,0.02);
    overflow:hidden;
    display:flex;
    flex-direction:column;
    border: 1px solid rgba(57,255,20,0.06);
  }

  /* Window chrome */
  .chrome {
    display:flex;align-items:center;gap:10px;padding:10px 14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    border-bottom:1px solid rgba(255,255,255,0.02);
  }
  .dots {display:flex;gap:8px;align-items:center;}
  .dot {width:12px;height:12px;border-radius:50%;background:var(--glass);box-shadow:inset 0 -2px 0 rgba(0,0,0,0.6);}
  .dot.close{background:#ff5f56}
  .dot.min{background:#ffbd2e}
  .dot.max{background:#27c93f}
  .title {margin-left:auto;margin-right:auto;color:var(--muted);font-size:13px;letter-spacing:0.6px}

  /* Terminal body */
  .body {
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:8px;
    height:100%;
    box-sizing:border-box;
  }
  .screen {
    background: linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
    border-radius:6px;
    padding:14px;
    height:100%;
    overflow:auto;
    box-sizing:border-box;
    border:1px solid rgba(57,255,20,0.02);
  }

  /* text lines */
  .line {white-space:pre-wrap;font-size:15px;line-height:1.45;color:var(--accent);text-shadow:0 1px 0 rgba(0,0,0,0.6);}
  .muted{color:var(--muted);font-size:13px}
  .error{color:#ff6b6b}
  .success{color:#7bed9f}

  /* input */
  .input-wrap {display:flex;align-items:center;gap:8px;margin-top:10px;}
  .prompt{min-width:150px;color:var(--muted);font-size:14px}
  .cmdline {
    flex:1;
    background:transparent;
    border:0;
    outline:none;
    color:var(--accent);
    font:inherit;
    font-size:15px;
    caret-color:var(--accent);
  }

  /* fake cursor */
  .fake-cursor{display:inline-block;width:9px;height:18px;background:var(--accent);vertical-align:middle;margin-left:2px;opacity:0.9;animation:blink 1s steps(2,start) infinite}
  @keyframes blink{50%{opacity:0}}

  /* hint bar */
  .hint {
    margin-top:10px;padding:9px;border-radius:6px;background:rgba(255,255,255,0.01);color:var(--muted);font-size:13px;display:flex;justify-content:space-between;align-items:center;gap:12px;
  }
  .hint .pill {padding:6px 10px;border-radius:999px;background:rgba(57,255,20,0.04);border:1px solid rgba(57,255,20,0.03);cursor:pointer;color:var(--accent);font-size:13px}

  /* progress */
  .progress {width:100%;height:10px;border-radius:6px;background:rgba(255,255,255,0.02);overflow:hidden;margin-top:8px}
  .progress > i{display:block;height:100%;width:0%;background:linear-gradient(90deg, rgba(57,255,20,0.16), rgba(57,255,20,0.35));transition:width 200ms linear}

  /* spinner */
  .spinner{width:14px;height:14px;border-radius:50%;border:2px solid rgba(255,255,255,0.06);border-top-color:var(--accent);animation:spin 800ms linear infinite;display:inline-block;vertical-align:middle;margin-right:8px}
  @keyframes spin{to{transform:rotate(360deg)}}

  /* responsive */
  @media (max-width:520px){
    .prompt{min-width:92px;font-size:12px}
    .chrome{padding:8px}
    .title{font-size:12px}
    .line{font-size:14px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <section class="term" aria-label="Fake terminal">
      <div class="chrome" role="toolbar" aria-hidden="true">
        <div class="dots">
          <span class="dot close"></span>
          <span class="dot min"></span>
          <span class="dot max"></span>
        </div>
        <div class="title">github.io — terminal</div>
      </div>

      <div class="body">
        <div id="screen" class="screen" tabindex="0" aria-live="polite">
          <div class="line muted">Welcome to a simulated secure shell.</div>
          <div class="line muted">This interface responds only to <strong>go-to-main</strong>.</div>
          <div class="line muted">Type <strong>go-to-main</strong> and press Enter to continue.</div>
          <br>
        </div>

        <div class="input-wrap">
          <div class="prompt">user@site:~$</div>
          <input id="cmd" class="cmdline" spellcheck="false" autocomplete="off" autocapitalize="off" autocorrect="off" aria-label="Terminal command input" />
          <div class="fake-cursor" id="cursor"></div>
        </div>

        <div class="hint">
          <div class="muted">Only command: <strong>go-to-main</strong></div>
          <div class="pill" id="runBtn">Run go-to-main ▶</div>
        </div>
      </div>
    </section>
  </div>

<script>
/* ===== Terminal behavior (single-command: go-to-main) ===== */
const screen = document.getElementById('screen');
const cmdInput = document.getElementById('cmd');
const runBtn = document.getElementById('runBtn');
const cursor = document.getElementById('cursor');
let lastCommand = '';
let locked = false; // prevent input while executing

// focus behavior
screen.addEventListener('click', ()=> cmdInput.focus());
cmdInput.focus();

// helper: append a line (with optional class)
function appendLine(text='', cls='line') {
  const d = document.createElement('div');
  d.className = cls || 'line';
  d.textContent = text;
  screen.appendChild(d);
  screen.scrollTop = screen.scrollHeight;
  return d;
}

// typewriter effect for a line; returns a promise
function typeLine(node, text, speed=18) {
  return new Promise(resolve=>{
    node.textContent = '';
    let i = 0;
    function step(){
      node.textContent += text.charAt(i++);
      screen.scrollTop = screen.scrollHeight;
      if(i < text.length) setTimeout(step, speed + Math.random()*8);
      else resolve();
    }
    step();
  });
}

// small utility to sleep
const sleep = ms => new Promise(r=>setTimeout(r, ms));

// spinner + streaming logs + progress emulation
async function executeGoToMain() {
  locked = true;
  cmdInput.disabled = true;
  const invoked = lastCommand || 'go-to-main';
  appendLine(`user@site:~$ ${invoked}`, 'line');
  const spinnerLine = appendLine('', 'line muted');
  // spinner icon
  spinnerLine.innerHTML = '<span class="spinner" aria-hidden="true"></span> initializing...';
  await sleep(700 + Math.random()*500);

  // simulate a stream of system logs with typewriter
  const logs = [
    'establishing secure channel...',
    'verifying integrity checksums...',
    'allocating sandboxed runtime...',
    'loading resources [████░░░░░░░░░░░] 28%',
    'loading resources [███████░░░░░░░░] 56%',
    'applying runtime patches...',
    'handshaking with main process...',
    'finalizing environment...'
  ];
  for(let i=0;i<logs.length;i++){
    const n = appendLine('', 'line');
    await typeLine(n, logs[i], 12 + Math.random()*10);
    // add a small randomized pause
    await sleep(120 + Math.random()*250);
  }

  // replace spinner line with progress bar
  spinnerLine.remove();
  const progressLine = document.createElement('div');
  progressLine.className = 'line';
  progressLine.innerHTML = '<div class="muted">progress</div><div class="progress" aria-hidden="true"><i></i></div>';
  screen.appendChild(progressLine);
  screen.scrollTop = screen.scrollHeight;
  const bar = progressLine.querySelector('i');

  // animate progress in uneven jumps to feel real
  let pct = 0;
  while(pct < 100){
    const step = Math.floor(5 + Math.random()*18);
    pct = Math.min(100, pct + step);
    bar.style.width = pct + '%';
    await sleep(130 + Math.random()*220);
  }

  appendLine('', 'line'); // blank
  const okLine = appendLine('', 'line muted');
  await typeLine(okLine, 'redirecting to main.html — please wait', 12);

  // small finish delay for polish
  await sleep(900);
  // actually redirect
  window.location.href = 'main.html';
}

// handle Enter key
cmdInput.addEventListener('keydown', async (e) => {
  if(locked) { e.preventDefault(); return; }
  if(e.key === 'Enter') {
    e.preventDefault();
    const raw = (cmdInput.value || '').trim();
    lastCommand = raw;
    if(raw.toLowerCase() === 'go-to-main') {
      await executeGoToMain();
    } else {
      // fake "not found" output, but only show minimal info
      appendLine(`user@site:~$ ${raw}`, 'line');
      const nf = appendLine('', 'line error');
      await typeLine(nf, `Command not found: ${raw}`, 12);
      appendLine("Hint: only 'go-to-main' is recognized.", 'line muted');
      cmdInput.value = '';
    }
  } else if(e.key === 'ArrowUp' || e.key === 'ArrowDown') {
    // simple recall last command
    e.preventDefault();
    if(e.key === 'ArrowUp' && lastCommand) cmdInput.value = lastCommand;
    if(e.key === 'ArrowDown') cmdInput.value = '';
  }
});

// clickable run button for convenience
runBtn.addEventListener('click', async () => {
  if(locked) return;
  cmdInput.value = 'go-to-main';
  cmdInput.focus();
  // small delay to mimic manual enter
  await sleep(80);
  const ev = new KeyboardEvent('keydown', {'key':'Enter'});
  cmdInput.dispatchEvent(ev);
});

// tiny auto-effect: when page loads, type the initial prompt into input quickly (cosmetic)
window.addEventListener('load', async () => {
  // simulate typing into the cmd input the command suggestion, then clear lightly
  const demo = 'go-to-main';
  for(let i=0;i<demo.length;i++){
    cmdInput.value += demo[i];
    await sleep(24);
  }
  // leave it—user can press Enter or edit it
});
</script>
</body>
</html>
